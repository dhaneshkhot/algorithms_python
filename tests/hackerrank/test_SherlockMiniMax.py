import pytest
from algorithms.hacker_rank.SherlockMiniMax import SherlockMiniMax

@pytest.fixture(scope="module", autouse=True)
def sherlock_mini_max():
    return SherlockMiniMax()


@pytest.mark.parametrize("arr, p, q, expected", [
    ([3, 5, 7, 9], 6, 8, 6),
    ([5, 8, 14], 4, 9, 4),
    ([3, 24, 35, 6, 7, 45], 15, 20, 15),
    ([114, 48, 86, 180, 176, 66, 126, 194, 50, 198, 140, 192, 186, 4, 136, 138, 130, 178, 36, 14], 43, 110, 100),
    ([263044060, 323471968, 60083128, 764550014, 209332334, 735326740, 558683912, 626871620, 232673588,
      428805364, 221674872, 261029278, 139767646, 146996700, 200921412, 121542678, 96223500, 239197414,
      407346706, 143348970, 60722446, 664904326, 352123022, 291011666, 594294166, 397870656, 60694236,
      376586636, 486260888, 114933906, 493037208, 5321608, 90019990, 601686988, 712093982, 575851770,
      411329684, 462785470, 563110618, 232790384, 511246848, 521904074, 550301294, 142371172, 241067834,
      14042944, 249208926, 36834004, 69321106, 467588012, 92173320, 360474676, 221615472, 340320496,
      62541478, 360772498, 372355942, 445408968, 342087972, 685617022, 307398890, 437939090, 720057720,
      718957462, 387059594, 583359512, 589920332, 500463226, 770726204, 434976772, 567860154, 510626506,
      614077600, 620953322, 570332092, 623026436, 502427638, 640333172, 370673998], 70283784, 302962359, 173959056)
])
def test_sherlock_minimax_1(sherlock_mini_max, arr, p, q, expected):
    assert expected == sherlock_mini_max.get_sherlock_mini_max(arr, p, q)


@pytest.mark.parametrize("arr, p, q, expected", [
    ([3, 5, 7, 9], 6, 8, 6),
    ([5, 8, 14], 4, 9, 4),
    ([3, 24, 35, 6, 7, 45], 15, 20, 15),
    ([114, 48, 86, 180, 176, 66, 126, 194, 50, 198, 140, 192, 186, 4, 136, 138, 130, 178, 36, 14], 43, 110, 100)
])
def test_sherlock_minimax_2(sherlock_mini_max, arr, p, q, expected):
    assert expected == sherlock_mini_max.get_sherlock_mini_max_2(arr, p, q)
    # last test from previous test set of test data does't work with this implementation
